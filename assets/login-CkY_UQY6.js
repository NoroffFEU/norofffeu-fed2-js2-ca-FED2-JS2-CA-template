async function a({email:e,password:t}){const o=await fetch("https://v2.api.noroff.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!o.ok)throw new Error("Login failed");const n=await o.json();return localStorage.setItem("token",n.data.accessToken),n}async function r(e){e.preventDefault();const t=e.target,o=t.elements.email.value,n=t.elements.password.value;try{const s=await a({email:o,password:n});alert("Login successful"),window.location.href="../../"}catch(s){alert("Login failed: "+s.message)}}const i=document.forms.login;i.addEventListener("submit",r);
